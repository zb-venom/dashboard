(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1037af0c"],{"159b":function(e,t,n){var a=n("da84"),r=n("fdbc"),s=n("17c2"),c=n("9112");for(var o in r){var i=a[o],u=i&&i.prototype;if(u&&u.forEach!==s)try{c(u,"forEach",s)}catch(d){u.forEach=s}}},"17c2":function(e,t,n){"use strict";var a=n("b727").forEach,r=n("a640"),s=r("forEach");e.exports=s?[].forEach:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}},"1dde":function(e,t,n){var a=n("d039"),r=n("b622"),s=n("2d00"),c=r("species");e.exports=function(e){return s>=51||!a((function(){var t=[],n=t.constructor={};return n[c]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"25f0":function(e,t,n){"use strict";var a=n("6eeb"),r=n("825a"),s=n("d039"),c=n("ad6d"),o="toString",i=RegExp.prototype,u=i[o],d=s((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),l=u.name!=o;(d||l)&&a(RegExp.prototype,o,(function(){var e=r(this),t=String(e.source),n=e.flags,a=String(void 0===n&&e instanceof RegExp&&!("flags"in i)?c.call(e):n);return"/"+t+"/"+a}),{unsafe:!0})},"38a6":function(e,t,n){},"65f0":function(e,t,n){var a=n("861d"),r=n("e8b5"),s=n("b622"),c=s("species");e.exports=function(e,t){var n;return r(e)&&(n=e.constructor,"function"!=typeof n||n!==Array&&!r(n.prototype)?a(n)&&(n=n[c],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},8418:function(e,t,n){"use strict";var a=n("c04e"),r=n("9bf2"),s=n("5c6c");e.exports=function(e,t,n){var c=a(t);c in e?r.f(e,c,s(0,n)):e[c]=n}},"99af":function(e,t,n){"use strict";var a=n("23e7"),r=n("d039"),s=n("e8b5"),c=n("861d"),o=n("7b0b"),i=n("50c4"),u=n("8418"),d=n("65f0"),l=n("1dde"),f=n("b622"),g=n("2d00"),p=f("isConcatSpreadable"),v=9007199254740991,b="Maximum allowed index exceeded",m=g>=51||!r((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),h=l("concat"),O=function(e){if(!c(e))return!1;var t=e[p];return void 0!==t?!!t:s(e)},y=!m||!h;a({target:"Array",proto:!0,forced:y},{concat:function(e){var t,n,a,r,s,c=o(this),l=d(c,0),f=0;for(t=-1,a=arguments.length;t<a;t++)if(s=-1===t?c:arguments[t],O(s)){if(r=i(s.length),f+r>v)throw TypeError(b);for(n=0;n<r;n++,f++)n in s&&u(l,f,s[n])}else{if(f>=v)throw TypeError(b);u(l,f++,s)}return l.length=f,l}})},a640:function(e,t,n){"use strict";var a=n("d039");e.exports=function(e,t){var n=[][e];return!!n&&a((function(){n.call(null,t||function(){throw 1},1)}))}},ad6d:function(e,t,n){"use strict";var a=n("825a");e.exports=function(){var e=a(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},b727:function(e,t,n){var a=n("0366"),r=n("44ad"),s=n("7b0b"),c=n("50c4"),o=n("65f0"),i=[].push,u=function(e){var t=1==e,n=2==e,u=3==e,d=4==e,l=6==e,f=7==e,g=5==e||l;return function(p,v,b,m){for(var h,O,y=s(p),j=r(y),S=a(v,b,3),x=c(j.length),E=0,J=m||o,w=t?J(p,x):n||f?J(p,0):void 0;x>E;E++)if((g||E in j)&&(h=j[E],O=S(h,E,y),e))if(t)w[E]=O;else if(O)switch(e){case 3:return!0;case 5:return h;case 6:return E;case 2:i.call(w,h)}else switch(e){case 4:return!1;case 7:i.call(w,h)}return l?-1:u||d?d:w}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterOut:u(7)}},c66d:function(e,t,n){"use strict";n.r(t);var a=n("7a23"),r={class:"container"},s={class:"dialog-box"},c={class:"users-box"},o=Object(a["h"])("div",{class:"box-header"},[Object(a["h"])("h3",null,"Users")],-1),i={class:"box-content"},u={class:"box-element"},d=Object(a["h"])("div",{class:"avatar",style:{background:"lightgreen"}},"ü¶ù",-1),l={class:"username"},f={class:"box-element"},g={key:0,class:"avatar",style:{background:"#ffb3b3"}},p={key:1,class:"avatar",style:{background:"#ffb3b3"}},v={key:2,class:"username"},b={key:3,class:"username"},m={key:0,class:"peer-box"},h={class:"message-box"},O=Object(a["h"])("div",{class:"box-header"},[Object(a["h"])("h3",null,"Messages")],-1),y=Object(a["h"])("div",{class:"messages",id:"messages"},null,-1),j={key:0,onsubmit:"event.preventDefault();",class:"input-form"},S=Object(a["h"])("input",{type:"text",class:"input-message",id:"input-message"},null,-1);function x(e,t,n,x,E,J){return Object(a["q"])(),Object(a["d"])("div",r,[Object(a["h"])("div",s,[Object(a["h"])("div",c,[o,Object(a["h"])("div",i,[Object(a["h"])("div",u,[d,Object(a["h"])("div",l,Object(a["z"])(e.me),1)]),Object(a["h"])("div",f,[e.other?(Object(a["q"])(),Object(a["d"])("div",g," üê∫ ")):(Object(a["q"])(),Object(a["d"])("div",p," ‚ùì ")),e.other?(Object(a["q"])(),Object(a["d"])("div",v,Object(a["z"])(e.other),1)):(Object(a["q"])(),Object(a["d"])("div",b,"Waiting... AUF!"))]),e.other?Object(a["e"])("",!0):(Object(a["q"])(),Object(a["d"])("div",m,[Object(a["h"])("div",{class:"create",onClick:t[1]||(t[1]=function(){return J.createPeer&&J.createPeer.apply(J,arguments)})},"Create Peer"),Object(a["h"])("div",{class:"connect",onClick:t[2]||(t[2]=function(){return J.connectToPeer&&J.connectToPeer.apply(J,arguments)})}," Connect to Peer ")]))])]),Object(a["h"])("div",h,[O,y,e.other?(Object(a["q"])(),Object(a["d"])("form",j,[S,Object(a["h"])("button",{onClick:t[3]||(t[3]=function(){return J.sendMessage&&J.sendMessage.apply(J,arguments)}),style:{display:"none"}}),Object(a["h"])("div",{onClick:t[4]||(t[4]=function(){return J.sendMessage&&J.sendMessage.apply(J,arguments)}),class:"btn-send"},"‚òù")])):Object(a["e"])("",!0)])])])}n("d3b7"),n("25f0"),n("99af"),n("159b");var E=n("bc3a"),J=n.n(E),w=n("051a"),N=n.n(w),k=n("8e27"),T=n.n(k),M=T()("https://authdiplom.herokuapp.com/");J.a.defaults.baseURL="http://localhost:3000/api/p2p",J.a.defaults.headers.common["Authorization"]=localStorage.jwt;var A={name:"Profile",data:function(){return{peer:"",data:[],me:localStorage.username,other:""}},methods:{createPeer:function(){var e=this;this.peer=new N.a({initiator:!0});var t=0;this.peer.on("signal",(function(n){e.data[t]=n,t++,3==t?setTimeout((function(){3==t&&M.emit("offerData",{message:JSON.stringify(e.data)})}),1e3):4==t&&M.emit("offerData",{message:JSON.stringify(e.data)})})),this.peer.on("connect",(function(){e.peer.send(JSON.stringify({username:e.me}))})),this.peer.on("error",(function(e){return console.error(e)})),this.peer.on("data",(function(t){JSON.parse(t.toString()).username&&(e.other=JSON.parse(t.toString()).username),JSON.parse(t.toString()).message&&(document.getElementById("messages").innerHTML+='<div class="message-other">\n            <div class="data">'.concat(JSON.parse(t.toString()).message,'</div>\n            <div class="datetime">').concat(JSON.parse(t.toString()).date,"</div>\n          </div>"),e.scroll())})),M.on("answerData",(function(t){e.data=JSON.parse(t.message),e.data.forEach((function(t){return e.peer.signal(t)}))}))},connectToPeer:function(){var e=this;this.peer=new N.a,M.on("offerData",(function(t){e.data=JSON.parse(t.message),e.data.forEach((function(t){return e.peer.signal(t)}))}));var t=0;this.peer.on("signal",(function(n){e.data[t]=n,t++,3==t?setTimeout((function(){3==t&&M.emit("answerData",{message:JSON.stringify(e.data)})}),1e3):4==t&&M.emit("answerData",{message:JSON.stringify(e.data)})})),this.peer.on("connect",(function(){e.peer.send(JSON.stringify({username:e.me}))})),this.peer.on("data",(function(t){JSON.parse(t.toString()).username&&(e.other=JSON.parse(t.toString()).username),JSON.parse(t.toString()).message&&(document.getElementById("messages").innerHTML+='<div class="message-other">\n            <div class="data">'.concat(JSON.parse(t.toString()).message,'</div>\n            <div class="datetime">').concat(JSON.parse(t.toString()).date,"</div>\n          </div>"),e.scroll())})),this.peer.on("error",(function(e){return console.error(e)}))},sendMessage:function(){var e=new Date,t=document.getElementById("input-message").value;this.peer.send(JSON.stringify({message:t,date:e.toLocaleTimeString().substring(0,5)})),document.getElementById("messages").innerHTML+='<div class="message-my">\n            <div class="data">'.concat(t,'</div>\n            <div class="datetime">').concat(e.toLocaleTimeString().substring(0,5),"</div>\n          </div>"),this.scroll(),document.getElementById("input-message").value=""},scroll:function(){document.getElementById("messages").scrollTop=document.getElementById("messages").scrollHeight}}};n("d02a");A.render=x;t["default"]=A},d02a:function(e,t,n){"use strict";n("38a6")},e8b5:function(e,t,n){var a=n("c6b6");e.exports=Array.isArray||function(e){return"Array"==a(e)}}}]);
//# sourceMappingURL=chunk-1037af0c.30a16501.js.map